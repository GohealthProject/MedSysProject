@{
    ViewData["Title"] = "planComeparison";
    Layout = "~/Views/Shared/_Layout_Fore.cshtml";
}
@*@model List<CProjectWarp>*@
@model List<Project>?
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
@*這是回上頁抬頭*@
<section class="breadcrumbs">
    <div class="container">

        <div class="d-flex justify-content-between align-items-center">
            <h2>自選方案</h2>
            <ol>
                <li><a href="~/Home/Index">回到首頁</a></li>
                <li><a href="~/Home/planComeparison">方案介紹</a></li>
                <li><a href="">自選方案</a></li>
            </ol>
        </div>

    </div>
    @*<button type="button" class="btn btn-outline-danger" style="background-color:saddlebrown"><a asp-action="planComeparisonTotal" asp-controller="Home">測試跳轉用</a></button>*@
</section>
<style>
    div,table{border:dashed 3px red}
    /* table{
        align-content:center;
        text-align:center;
    }
    .col-3{
        height:230px;
    }*/

    .offcanvas-body{
    position:relative;
    }
    #rsbtn{
        position:absolute;
        bottom:5px;
        left:30%;
    }


</style>


<section id="portfolio" class="portfolio">

@*    @foreach (var items in Model)
    {

        @Html.DisplayFor(m => items.ItemName)

    }*@
    <div class="container">

    <div class="row">
    <div class="col-lg-12">
                
                <ul id="portfolio-flters" class="row" style="margin-left:10%" >
                    <li data-filter="*" class="filter-active col-3" style="width:150px;height:150px;">
                        <img src="~/img/customcompare/p-00.jpg" class="img-fluid bi-backpack-fill" alt="" style="width:150px;height:110px;">
                            <div class=" portfolio-item filter-app">
                                全部類別
                            </div>
                        </li>

                  @*  <li data-filter=".filter-app" class="col-3">
                        <img src="~/img/customcompare/p-01.jpg" class="img-fluid" alt="">
                            <div class="portfolio-item filter-app">
                            一般生理檢查
                            </div>
                        </li>*@
                   @* @{
                        List<Plan> list = new List<Plan>();
                        List<Item> listt = new List<Item>();
                        foreach(var q in Model[0].project.Items)
                        {

                        }
                        foreach(var q in Model)
                        {
                            foreach(var g in q.project.PlanRefs)
                            {
                                list.Add(g.Plan);
                            }
                            foreach(var gg in q.project.Items)
                            {
                                <div>@gg.ItemName</div>
                                <input type="text" value="@gg.ItemId">
                                
                            }
                        }
                        
                        var qq = list.Distinct().Select(n => n);
                        foreach(var pp in qq)
                        {
                            <div>@pp.PlanName</div>
                            <input type="text" value="@pp.PlanId">
                        }
                    }*@

                    
                        
                 @*   //    List<Plan> list = new List<Plan>();
                    //    foreach (var q in Model)
                    //    {
                    //        foreach (var g in q.PlanRefs)
                    //        {
                    //            list.Add(g.Plan);
                    //        }
                    //        foreach (var gg in q.Items)
                    //        {
                    //            //<div>@gg.ItemName</div>
                    //            //<input type="text" value="@gg.ItemId">

                    //        }
                    //    }

                    //    var qq = list.Distinct().Select(n => n);
                    //    foreach (var pp in qq)
                    //    {
                    //        <div>@pp.PlanName</div>
                    //        <input type="text" value="@pp.PlanId">
                    //    }
                    //*@

                    @*plan匯入*@

                  @*  @{
                        List<Plan> list = new List<Plan>();
                        @foreach(var s in Model)
                    {
                            foreach (var ss in s.PlanRefs)
                            {
                                list.Add(ss.Plan);
                            }
                        
                    }
                    }*@

                    @*project匯入*@
                        @foreach (var items in Model)
                        {
                        <li data-filter=".@items.ProjectName" class="col-3" style="width:150px;height:150px;">
                            <img src="~/img/customcompare/p-@{@Html.DisplayFor(m =>items.ProjectId)}.jpg" class="img-fluid" alt="" style="width:150px;height:110px;">
                            <div>
                            </div>
                            <div class="portfolio-item">
                                @items.ProjectName
                            </div>
                        </li>
                        }
                    
                    
                        
                 @*       <li data-filter=".filter-card" class="col-3">
                        <img src="~/img/customcompare/p-02.jpg" class="img-fluid" alt="">
                            <div class="portfolio-item filter-web">
                            尿液一般檢查
                            </div>
                        </li>
                        <li data-filter=".filter-card" class="col-3">
                        <img src="~/img/customcompare/p-03.jpg" class="img-fluid" alt="">
                            <div class="portfolio-item filter-web">
                            血液常規檢查
                            </div>
                        </li>
                    <li data-filter=".filter-card" class="col-3">
                        <img src="~/img/customcompare/p-04.jpg" class="img-fluid" alt="" style="height:230px">
                        <div class="portfolio-item filter-web">
                            腎功能檢查
                        </div>
                    </li>
                    <li data-filter=".filter-card" class="col-3">
                        <img src="~/img/customcompare/p-05.jpg" class="img-fluid" alt="" style="height:230px">
                        <div class="portfolio-item filter-web">
                            腎功能檢查
                        </div>
                    </li>*@
    </ul>
    </div>
    </div>


        @*item導入*@
            <div class="row portfolio-container portfolio-flters p-5" id="btng">
            @foreach (var items in Model)
            {
                @foreach (var s in items.Items)
                {
                    <button class="portfolio-item @items.ProjectName col-2 m-1 btn btn-success" id="ibtn">
                    @Html.DisplayFor(m => s.ItemName)
                    <input type="text" value="@s.ItemId">
                    </button>
               }
                
                

            }
           

         @*   <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">身高</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">體重</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">脈搏</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">血壓-收縮壓</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">血壓-舒張壓</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">腰圍</button>
            <button class="portfolio-item filter-app col-2 m-1 btn btn-success" id="ibtn">理學檢查</button>

            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿液外觀</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿比重</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿液酸鹼度</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿膽素原</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿蛋白</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿糖</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">酮尿</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">膽紅素</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿潛血</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿液白血球</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">亞硝酸鹽</button>
            <button class="portfolio-item filter-card col-2 m-1 btn btn-success" id="ibtn">尿沉渣</button>*@
            
            </div>

        </div>
        </section>
    

     

    
    @*canvas*@
    <div class="row fixed-bottom">
        <div class="col-10"></div>
    <button class="btn btn-primary col-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">我的自選方案</button>
    </div>
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel" data-bs-backdrop="false" data-bs-scroll="true">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasRightLabel">已選項目</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <table class="table table-hover">
              <thead>
                    <tr>
                        <th class="col-3">
                            編號
                        </th>

                        <th>
                            項目
                        </th>
                        <th class="col-2">
                            移除
                        </th>
                    </tr>
              </thead>
                <tbody id="ilist">
                  <tr>
                      <td>
                          A
                      </td>
                        <td>
                            B
                        </td>
                        <td><img src="~/img/icon/x.png" /></td>
                  </tr>
                 
                    <tr>
                        <td>
                            A
                        </td>
                        <td>
                            B
                        </td>
                        <td><img src="~/img/icon/x.png" /></td>
                        
                    </tr>
       
              </tbody>
            </table>
        
        <button class="btn btn-primary  col-6" type="button" id="rsbtn"><a href="~/Home/Reserve">馬上預約</a></button>
        </div>
    </div>

@section Scripts{
    <script>
       
        $("#btng:has(#ibtn)").click((A) => {
            //console(this)
            var itembtn = A.querySelector("#btng:has(#ibtn)").textContent;
            console.log(this.document.querySelector("#btng:has(#ibtn)").textContent)
            document.querySelector("#ilist").innerHTML +=
            `<tr>
                <td>
                ${this.itembtn}
                </td>
                <td>
               BB
                </td>
                        <td><button class="btn btn-danger m-1"><i class="bi bi-trash-fill"></i></td>
             </tr>`
            

        })
    </script>
}


